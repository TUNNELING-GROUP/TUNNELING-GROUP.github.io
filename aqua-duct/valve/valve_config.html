

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Configuration file options &#8212; Aqua-Duct 1.0.10 documentation</title>
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../_static/ficon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Valve tutorial" href="valve_tutorial.html" />
    <link rel="prev" title="Valve manual" href="valve_manual.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="valve_tutorial.html" title="Valve tutorial"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="valve_manual.html" title="Valve manual"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Aqua-Duct 1.0.10 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Aqua-Duct’s Valve driver documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration file options</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuration-file-options">
<h1>Configuration file options<a class="headerlink" href="#configuration-file-options" title="Permalink to this headline">¶</a></h1>
<p>Valve configuration file is a simple and plain text file. It has similar structure as INI files commonly used in one of the popular operating systems and is compliant with Python module <a class="reference external" href="https://docs.python.org/2/library/configparser.html#module-ConfigParser" title="(in Python v2.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ConfigParser</span></code></a>.</p>
<p>Configuration file comprises of several <em>sections</em>. They can be grouped into three categories. Names of sections are in <strong>bold</strong> text.</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Global settings:</dt><dd><ul class="simple">
<li><p><strong>global</strong></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Stages options:</dt><dd><ol class="arabic simple">
<li><p><strong>traceable_residues</strong></p></li>
<li><p><strong>raw_paths</strong></p></li>
<li><p><strong>separate_paths</strong></p></li>
<li><p><strong>inlets_clustering</strong></p></li>
<li><p><strong>analysis</strong></p></li>
<li><p><strong>visualize</strong></p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Methods options:</dt><dd><ul class="simple">
<li><p><strong>smooth</strong></p></li>
<li><p><strong>clustering</strong></p></li>
<li><p><strong>reclusteriation</strong></p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<div class="section" id="section-global">
<h2>Section <strong>global</strong><a class="headerlink" href="#section-global" title="Permalink to this headline">¶</a></h2>
<p>This section allows settings of trajectory data and is reserved for other future global options.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 13%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>top</p></td>
<td><p>None</p></td>
<td><p>Path to topology file. Aqua-Duct supports PDB, PRMTOP, PFS topology files.</p></td>
</tr>
<tr class="row-odd"><td><p>trj</p></td>
<td><p>None</p></td>
<td><p>Path to trajectory file. Aqua-Duct supports NC and DCD trajectory files.</p></td>
</tr>
<tr class="row-even"><td><p>twoway</p></td>
<td><p>True</p></td>
<td><p>Try to use <em>two-way</em> scanning in the stage II.</p></td>
</tr>
<tr class="row-odd"><td><p>sandwich</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code> trajectories are read as layers.</p></td>
</tr>
<tr class="row-even"><td><p>max_frame</p></td>
<td><p>None</p></td>
<td><p>Maximal number of frame to be read from trajectory data. If set <code class="docutils literal notranslate"><span class="pre">None</span></code>
trajectory is read to the last possible frame.</p></td>
</tr>
<tr class="row-odd"><td><p>min_frame</p></td>
<td><p>0</p></td>
<td><p>Minimal number of frame to be read from trajectory data.</p></td>
</tr>
<tr class="row-even"><td><p>step_frame</p></td>
<td><p>1</p></td>
<td><p>Step used in reading trajectory. Default value of 1 stands for reading
every frame. If it is greater than 1, only every step-value frame is
read.</p></td>
</tr>
<tr class="row-odd"><td><p>sps</p></td>
<td><p>True</p></td>
<td><p>Try to store data in single precission storage.</p></td>
</tr>
<tr class="row-even"><td><p>cache_dir</p></td>
<td><p>None</p></td>
<td><p>Allows to set path to the directory for cache data.</p></td>
</tr>
<tr class="row-odd"><td><p>cache_mem</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, all data will be cached in RAM.</p></td>
</tr>
</tbody>
</table>
<p>Option <strong>trj</strong> can be used to provide list of trajectory files separated by standard path separator ‘<code class="docutils literal notranslate"><span class="pre">:</span></code>’ on POSIX platforms and ‘<code class="docutils literal notranslate"><span class="pre">;</span></code>’ on Windows - see <a class="reference external" href="https://docs.python.org/2/library/os.html#os.pathsep" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">os.pathsep</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Options <strong>top</strong> and <strong>trj</strong> are mandatory.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Options <strong>min_frame</strong>, <strong>max_frame</strong>, and <strong>step_frame</strong> can be used to limit calculations to a specific part of trajectory. For example, in order to to run calculations for 1000 frames starting from frame 5000 use the following options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">min_frame</span> <span class="o">=</span> <span class="mi">4999</span>
<span class="n">max_frame</span> <span class="o">=</span> <span class="mi">5999</span>
</pre></div>
</div>
<p>To run calculations for every 5th frame use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">step_frame</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="sandwich">
<span id="sandwich-option"></span><h3>Sandwich<a class="headerlink" href="#sandwich" title="Permalink to this headline">¶</a></h3>
<p>Trajectory data can be provided as several files. By default these files are processed in sequential manner making one long trajectory. If option <strong>sandwich</strong> is used trajectory files are read as layers. For each layer, search for traceable residues is done separately (stage I and II) but processing and analysis (stage III, IV, V, and VI) are done for all paths simultaneously. Usage of <strong>sandwich</strong> option is further referenced as <em>sandwich</em> mode.</p>
</div>
<div class="section" id="cache">
<h3>Cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h3>
<p>Storage of coordinates for all paths for very long MD trajectories requires huge amount of RAM. User can decide whether <a class="reference internal" href="../aquaduct.html#module-aquaduct" title="aquaduct"><code class="xref py py-mod docutils literal notranslate"><span class="pre">aquaduct</span></code></a> should store coordinates in memory or in separated directory. Option <strong>cache-mem</strong> instruct <em>Valve</em> to store coordinates in RAM; <strong>cache-dir</strong> stores coordinates in selected directory. If neither of both options is selected, coordinates are calculated on demand.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If no cache is used (memory or dir) <a class="reference internal" href="valve_manual.html#master-paths-manual"><span class="std std-ref">Master paths</span></a> cannot be calculated.</p>
</div>
</div>
<div class="section" id="single-precision-storage">
<h3>Single precision storage<a class="headerlink" href="#single-precision-storage" title="Permalink to this headline">¶</a></h3>
<p>Most of the calculation in <em>Valve</em> is performed by NumPy. By default, NumPy uses double precision floats.
<em>Valve</em> does not change this behavior but has special option <strong>sps</strong> which forces to store all data (both internal data stored in RAM and on the disk) in single precision. This spares a lot of RAM and is recommended when you perform calculation for long trajectories and your amount of RAM is limited.</p>
</div>
</div>
<div class="section" id="common-settings-of-stage-sections">
<h2>Common settings of stage sections<a class="headerlink" href="#common-settings-of-stage-sections" title="Permalink to this headline">¶</a></h2>
<p>Stages 1-4 which perform calculations have some common options allowing for execution control and saving/loading data.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 18%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>execute</p></td>
<td><p>runonce</p></td>
<td><p>Option controls stage execution. It can have one of three possible
values: <code class="docutils literal notranslate"><span class="pre">run</span></code>, <code class="docutils literal notranslate"><span class="pre">runonce</span></code>, and <code class="docutils literal notranslate"><span class="pre">skip</span></code>. If it is set to <code class="docutils literal notranslate"><span class="pre">run</span></code>
calculations are always performed and if <strong>dump</strong> is set, dump file
is saved. If it is set to <code class="docutils literal notranslate"><span class="pre">runonce</span></code>, calculations are performed
when there is no dump file specified by <strong>dump</strong> option. If it is
present, calculations are skipped and data is loaded from the file.
If it is set to <code class="docutils literal notranslate"><span class="pre">skip</span></code>, calculations are skipped and if <strong>dump</strong>
is set, data is loaded from the file.</p></td>
</tr>
<tr class="row-odd"><td><p>dump</p></td>
<td><p>[dump file name]</p></td>
<td><p>File name of dump data. It is used to save results of calculations
or to load previously calculated data - this depends on <strong>execute</strong>
option. Default value of this option depends on the stage and for
stages 1 to 4 is one of the following (listed in order):</p>
<ul class="simple">
<li><p>1_traceable_residues_data.dump</p></li>
<li><p>2_raw_paths_data.dump</p></li>
<li><p>3_separate_paths_data.dump</p></li>
<li><p>4_inlets_clustering_data.dump</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Stages 5-6 also use <strong>execute</strong> option, however, since they do not perform calculations <cite>per se</cite>, instead of <strong>dump</strong> option, they use <strong>save</strong>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 18%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>execute</p></td>
<td><p>run</p></td>
<td><p>Option controls stage execution. It can have one of three possible
values: <code class="docutils literal notranslate"><span class="pre">run</span></code>, <code class="docutils literal notranslate"><span class="pre">runonce</span></code>, and <code class="docutils literal notranslate"><span class="pre">skip</span></code>. If it is set to <code class="docutils literal notranslate"><span class="pre">run</span></code>
or <code class="docutils literal notranslate"><span class="pre">runonce</span></code>, stage is executed and results are saved according to
the <strong>save</strong> option. If it is set to <code class="docutils literal notranslate"><span class="pre">skip</span></code>, stage is skipped.</p></td>
</tr>
<tr class="row-odd"><td><p>save</p></td>
<td><p>[save file name]</p></td>
<td><p>File name for saving results. Default value of this option depends
on the stage and for stages 1 to 4 is one of the following
(listed in order):</p>
<ul class="simple">
<li><p>5_analysis_results.txt &amp; 5_analysis_results.txt.csv</p></li>
<li><p>6_visualize_results.py &amp; 6_visualize_results.tar.gz</p></li>
</ul>
<p>Stage 5 saves <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file with analysis of results and, if
requested, it saves additional <code class="docutils literal notranslate"><span class="pre">.csv</span></code> with various counts of
traced molecules.</p>
<p>Stage 6 can save results in two different ways:</p>
<ol class="arabic simple">
<li><p>As Python script - extension <code class="docutils literal notranslate"><span class="pre">.py</span></code> plus companion archive
<code class="docutils literal notranslate"><span class="pre">.tar.gz</span></code>,</p></li>
<li><p>As PyMOL session - extension <code class="docutils literal notranslate"><span class="pre">.pse</span></code>.</p></li>
</ol>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stage-traceable-residues">
<h2>Stage <strong>traceable_residues</strong><a class="headerlink" href="#stage-traceable-residues" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scope</p></td>
<td><p>None</p></td>
<td><p>Definition of <em>Scope</em> of interest. See also
<a class="reference internal" href="valve_manual.html#scope-definition"><span class="std std-ref">Scope definition</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>scope_convexhull</p></td>
<td><p>True</p></td>
<td><p>Flag to set if <em>Scope</em> is direct or convex hull definition.</p></td>
</tr>
<tr class="row-even"><td><p>scope_everyframe</p></td>
<td><p>False</p></td>
<td><p>Flag to set <em>Scope</em> evaluation mode. If set <code class="docutils literal notranslate"><span class="pre">True</span></code> <em>Scope</em> is
evaluated in every frame. This makes sense if the definition is
complex and depends on distances between molecular entities.</p></td>
</tr>
<tr class="row-odd"><td><p>scope_convexhull_inflate</p></td>
<td><p>None</p></td>
<td><p>Increase (or if negative - decrease) size of the scope convex
hull.</p></td>
</tr>
<tr class="row-even"><td><p>object</p></td>
<td><p>None</p></td>
<td><p>Definition of <em>Object</em> of interest. See also
<a class="reference internal" href="valve_manual.html#object-definition"><span class="std std-ref">Object definition</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>add_passing</p></td>
<td><p>None</p></td>
<td><p>Definition of molecules that should be added to traced molecules
even if they were not present in <em>Object</em>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Options <strong>scope</strong> and <strong>object</strong> are mandatory.</p>
</div>
</div>
<div class="section" id="stage-raw-paths">
<h2>Stage <strong>raw_paths</strong><a class="headerlink" href="#stage-raw-paths" title="Permalink to this headline">¶</a></h2>
<p>This stage also requires definition of the <em>Scope</em> and <em>Object</em>. If appropriate settings are not given, settings from the previous stage are used.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>scope</p></td>
<td><p>None</p></td>
<td><p>Definition of <em>Scope</em> of interest. See also
<a class="reference internal" href="valve_manual.html#scope-definition"><span class="std std-ref">Scope definition</span></a>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, value from previous stage
is used.</p></td>
</tr>
<tr class="row-odd"><td><p>scope_convexhull</p></td>
<td><p>None</p></td>
<td><p>Flag to set if the <em>Scope</em> is direct or convex hull definition.</p></td>
</tr>
<tr class="row-even"><td><p>scope_everyframe</p></td>
<td><p>False</p></td>
<td><p>Flag to set <em>Scope</em> evaluation mode. If set <code class="docutils literal notranslate"><span class="pre">True</span></code> <em>Scope</em> is
evaluated in every frame. This makes sense if the definition is
complex and depends on distances between molecular entities.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, value from previous stage is used.</p></td>
</tr>
<tr class="row-odd"><td><p>scope_convexhull_inflate</p></td>
<td><p>None</p></td>
<td><p>Increase (or if negative - decrease) size of the scope convex
hull. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, value from previous stage is used.</p></td>
</tr>
<tr class="row-even"><td><p>object</p></td>
<td><p>None</p></td>
<td><p>Definition of <em>Object</em> of interest. See also
<a class="reference internal" href="valve_manual.html#object-definition"><span class="std std-ref">Object definition</span></a>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, value from previous
stage is used</p></td>
</tr>
<tr class="row-odd"><td><p>clear_in_object_info</p></td>
<td><p>False</p></td>
<td><p>If it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, information on occupation of <em>Object</em>
site by traceable residues calculated in the previous stage is
cleared and has to be recalculated. This is useful if
definition of <em>Object</em> was changed.</p></td>
</tr>
<tr class="row-even"><td><p>discard_singletons</p></td>
<td><p>1</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">0</span></code>, discards paths of given lenght.</p></td>
</tr>
<tr class="row-odd"><td><p>discard_empty_paths</p></td>
<td><p>True</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, empty paths are discarded.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stage-separate-paths">
<span id="separate-paths-options"></span><h2>Stage <strong>separate_paths</strong><a class="headerlink" href="#stage-separate-paths" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>discard_empty_paths</p></td>
<td><p>True</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, empty paths are discarded.</p></td>
</tr>
<tr class="row-odd"><td><p>sort_by_id</p></td>
<td><p>True</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, separate paths are sorted by ID. Otherwise
they are sorted in order of appearance.</p></td>
</tr>
<tr class="row-even"><td><p>discard_short_paths</p></td>
<td><p>20</p></td>
<td><p>This option allows to discard paths which are shorter than the
threshold, which is defined as the total number of frames.</p></td>
</tr>
<tr class="row-odd"><td><p>discard_short_object</p></td>
<td><p>2.0</p></td>
<td><p>This option allows to discard paths whose objects are shorter
than the threshold, which is defined as total length in metric
units.</p></td>
</tr>
<tr class="row-even"><td><p>discard_short_logic</p></td>
<td><p>or</p></td>
<td><p>If both <code class="docutils literal notranslate"><span class="pre">discard_short_paths</span></code> and <code class="docutils literal notranslate"><span class="pre">discard_short_object</span></code>
options are used, this option allows to set combination logic.
If it is set to <code class="docutils literal notranslate"><span class="pre">or</span></code>, a path is discarded if any of discard
criterion is met. If it is set <code class="docutils literal notranslate"><span class="pre">and</span></code>, both criteria have to
be met to discard path.</p></td>
</tr>
<tr class="row-odd"><td><p>auto_barber</p></td>
<td><p>None</p></td>
<td><p>This option allows to select molecular entity used in Auto
Barber procedure. See also <a class="reference internal" href="valve_manual.html#auto-barber-procedure"><span class="std std-ref">Auto Barber</span></a> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">barber_with_spheres()</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>auto_barber_mincut</p></td>
<td><p>None</p></td>
<td><p>Minimal radius of spheres used in Auto Barber. If a sphere has
radius smaller than this value, it is not used in AutoBarber
procedure. This option can be switched off by setting it to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>auto_barber_maxcut</p></td>
<td><p>2.8</p></td>
<td><p>Maximal radius of spheres used in Auto Barber. If a sphere has
radius greater than this value, it is not used in AutoBarber
procedure. This option can be switched off by setting it to
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>auto_barber_mincut_level</p></td>
<td><p>True</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, spheres of radius smaller than <strong>mincut</strong> are
resized to <strong>mincut</strong> value.</p></td>
</tr>
<tr class="row-odd"><td><p>auto_barber_maxcut_level</p></td>
<td><p>True</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, spheres of radius greater than <strong>maxcut</strong> are
resized to <strong>maxcut</strong> value.</p></td>
</tr>
<tr class="row-even"><td><p>auto_barber_tovdw</p></td>
<td><p>True</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, cutting of spheres is corrected by decreasing
its radius by VdW radius of the closest atom.</p></td>
</tr>
<tr class="row-odd"><td><p>allow_passing_paths</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, paths that do not enter the object are detected
and added to the rest of paths as ‘passing’ paths.</p></td>
</tr>
<tr class="row-even"><td><p>separate_barber</p></td>
<td><p>True</p></td>
<td><p>Apply AutoBarber for each type of traced molecules separately.</p></td>
</tr>
<tr class="row-odd"><td><p>calculate_coo</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, center of the object is calculated.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stage-inlets-clustering">
<h2>Stage <strong>inlets_clustering</strong><a class="headerlink" href="#stage-inlets-clustering" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 6%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>recluster_outliers</p></td>
<td><p>False</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, reclustering of outliers is executed
according to the method defined in <strong>reclustering</strong> section.</p></td>
</tr>
<tr class="row-odd"><td><p>detect_outliers</p></td>
<td><p>False</p></td>
<td><p>If set, detection of outliers is executed. It could be set as a
floating point distance threshold or set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. See
<a class="reference internal" href="valve_manual.html#clustering-of-inlets"><span class="std std-ref">Clustering of inlets</span></a> for more details.</p></td>
</tr>
<tr class="row-even"><td><p>singletons_outliers</p></td>
<td><p>False</p></td>
<td><p>Maximal size of cluster to be considered as outliers. If set to
number &gt; 0 clusters of that size are removed and their objects
are moved to outliers. See <a class="reference internal" href="valve_manual.html#clustering-of-inlets"><span class="std std-ref">Clustering of inlets</span></a> for
more details.</p></td>
</tr>
<tr class="row-odd"><td><p>max_level</p></td>
<td><p>5</p></td>
<td><p>Maximal number of recursive clustering levels.</p></td>
</tr>
<tr class="row-even"><td><p>create_master_paths</p></td>
<td><p>False</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, master paths are created (fast CPU and big
RAM recommended; 50k frames long simulation may need ca 20GB of
memory)</p></td>
</tr>
<tr class="row-odd"><td><p>master_paths_amount</p></td>
<td><p>None</p></td>
<td><p>Allows to limit number of single paths used for master paths
calculations.
If it is a number
in range <code class="docutils literal notranslate"><span class="pre">(0,1)</span></code>, then it is interpreted as a percent number
of paths to be used. It is is a integer number <code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">1</span></code>
it is an absoulte number of used paths.</p></td>
</tr>
<tr class="row-even"><td><p>separate_master</p></td>
<td><p>False</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, master mapths are generated for each of
traced molecules’ types separately.</p></td>
</tr>
<tr class="row-odd"><td><p>separate_master_all</p></td>
<td><p>True</p></td>
<td><p>If <strong>separate_master</strong> is used and this option is set <code class="docutils literal notranslate"><span class="pre">True</span></code>,
master paths will be also generated for all traced molecules`
types as it is done when <strong>separate_master</strong> is set <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>exclude_passing_in_clustering</p></td>
<td><p>True</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, passing paths are not clustered with normal
paths.</p></td>
</tr>
<tr class="row-odd"><td><p>add_passing_to_clusters</p></td>
<td><p>None</p></td>
<td><p>Allows to run procedure for adding passing paths inlets to
clusters with Auto Barber method. To enable this the option
should be set to molecular entity that will be used by Auto
Barber.</p></td>
</tr>
<tr class="row-even"><td><p>renumber_clusters</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, clusters have consecutive numbers starting from
1 (or 0 if outliers are present) starting from the bigest
cluster.</p></td>
</tr>
<tr class="row-odd"><td><p>join_clusters</p></td>
<td><p>None</p></td>
<td><p>This option allows to join selected clusters. Clusters’ IDs
joined with <code class="docutils literal notranslate"><span class="pre">+</span></code> character lists clusters to be joined
together. Several such blocks separated by space can be used.
For example, if set to <code class="docutils literal notranslate"><span class="pre">1+3+4</span> <span class="pre">5+6</span></code> clusters 1, 3, and 4 will
be joined in one cluster and cluster 5, and 6 will be also
joined in another cluster.</p></td>
</tr>
<tr class="row-even"><td><p>inlets_center</p></td>
<td><p>cos</p></td>
<td><p>Allows to choose center of inlets points. This central point is
further used as a reference point in calculations of clusters’
areas and contours. If set <cite>cos</cite> center of system calculated as
average center of the scope area is used. Alternatively it can
be set to <cite>coo</cite>, then center of the object area is used.</p></td>
</tr>
<tr class="row-odd"><td><p>clustering_order</p></td>
<td><p>old-school</p></td>
<td><p>Allow to change order of clustering steps.</p>
<ul class="simple">
<li><p><strong>old-school</strong> order - clustering, reclustering, removing singletons, adding passing paths to clusters, join clusters, renumbering clusters, removing inlets in specified_clusters</p></li>
<li><p><strong>aquarius</strong> order - clustering, joining clusters, renumbering clusters, outliers detection, reclustering, removing singletons, adding passing paths to clusters, removing inlets in specified_clusters</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stage-analysis">
<h2>Stage <strong>analysis</strong><a class="headerlink" href="#stage-analysis" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 13%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dump_config</p></td>
<td><p>True</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, configuration options, as seen by Valve, are
added to the head of results.</p></td>
</tr>
<tr class="row-odd"><td><p>calculate_scope_object_size</p></td>
<td><p>False</p></td>
<td><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, volumes and areas of object and scope
approximated by convex hulls are calculated for each of the
analyzed frames and saved in output CSV file.</p></td>
</tr>
<tr class="row-even"><td><p>scope_chull</p></td>
<td><p>None</p></td>
<td><p>Scope convex hull definition used in calculating volume and
area.</p></td>
</tr>
<tr class="row-odd"><td><p>scope_chull_inflate</p></td>
<td><p>None</p></td>
<td><p>Increase (or if negative - decrease) size of the scope convex
hull.</p></td>
</tr>
<tr class="row-even"><td><p>object_chull</p></td>
<td><p>None</p></td>
<td><p>Object convex hull definition used in calculating volume and
area.</p></td>
</tr>
<tr class="row-odd"><td><p>cluster_area</p></td>
<td><p>True</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, clusters’ areas are estimated with kernel
density estimation method (KDE).</p></td>
</tr>
<tr class="row-even"><td><p>cluster_area_precision</p></td>
<td><p>20</p></td>
<td><p>Precision of KDE method in clusters’ areas estimation method.
This options controls number of grid points per one
square A as used in KDE. Higher values means better precision.
Number of points can be calculated as $P^{2/3}$.</p></td>
</tr>
<tr class="row-odd"><td><p>cluster_area_expand</p></td>
<td><p>2</p></td>
<td><p>Space occupied by clusters’ points can be expanded before KDE
calculation. This option controls amount of A by which the
cluster space is expanded.
Average amount of expansion can be calcualted as $E^{2/3}$.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stage-visualize">
<h2>Stage <strong>visualize</strong><a class="headerlink" href="#stage-visualize" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 12%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>split_by_type</p></td>
<td><p>False</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, visulaizations of all objects that correspond to particular types of
traced molecules are splited. Appropriate molecule name is added to created objects.</p></td>
</tr>
<tr class="row-odd"><td><p>retain_all_types</p></td>
<td><p>False</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> and <em>split_by_type</em> option is <code class="docutils literal notranslate"><span class="pre">True</span></code> as well, standard visualization for
all types of traced moelcules will be generated as well.</p></td>
</tr>
<tr class="row-even"><td><p>all_paths_raw</p></td>
<td><p>False</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, produces one object in PyMOL that holds all paths
visualized by raw coordinates.</p></td>
</tr>
<tr class="row-odd"><td><p>all_paths_smooth</p></td>
<td><p>False</p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, produces one object in PyMOL that holds all paths
visualized by smooth coordinates.</p></td>
</tr>
<tr class="row-even"><td><p>all_paths_split</p></td>
<td><p>False</p></td>
<td><p>If is set <code class="docutils literal notranslate"><span class="pre">True</span></code>, objects produced by <strong>all_paths_raw</strong> and
<strong>all_paths_smooth</strong> are split into Incoming, Object, and
Outgoing parts and visualized as three different objects.</p></td>
</tr>
<tr class="row-odd"><td><p>all_paths_raw_io</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, arrows pointing beginning and end of paths are
displayed oriented accordingly to raw paths orientation.</p></td>
</tr>
<tr class="row-even"><td><p>all_paths_smooth_io</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, arrows pointing beginning and end of paths are
displayed oriented accordingly to smooth paths orientation.</p></td>
</tr>
<tr class="row-odd"><td><p>all_paths_amount</p></td>
<td><p>None</p></td>
<td><p>Allows to limit number of visualised paths. If it is a number
in range <code class="docutils literal notranslate"><span class="pre">(0,1)</span></code>, then it is interpreted as a percent number
of paths to be visualized. It is is a integer number <code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">1</span></code>
it is total number of all_paths visualized.</p></td>
</tr>
<tr class="row-even"><td><p>simply_smooths</p></td>
<td><p>RecursiveVector</p></td>
<td><p>Option indicates linear simplification method to be used in
plotting smooth paths. Simplification removes points which do
not (or almost do not) change the shape of smooth path.
Possible choices are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RecursiveVector</span></code> (<a class="reference internal" href="../aquaduct.geom.traces.html#aquaduct.geom.traces.LinearizeRecursiveVector" title="aquaduct.geom.traces.LinearizeRecursiveVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearizeRecursiveVector</span></code></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HobbitVector</span></code> (<a class="reference internal" href="../aquaduct.geom.traces.html#aquaduct.geom.traces.LinearizeHobbitVector" title="aquaduct.geom.traces.LinearizeHobbitVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearizeHobbitVector</span></code></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OneWayVector</span></code> (<a class="reference internal" href="../aquaduct.geom.traces.html#aquaduct.geom.traces.LinearizeOneWayVector" title="aquaduct.geom.traces.LinearizeOneWayVector"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearizeOneWayVector</span></code></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RecursiveTriangle</span></code> (<a class="reference internal" href="../aquaduct.geom.traces.html#aquaduct.geom.traces.LinearizeRecursiveTriangle" title="aquaduct.geom.traces.LinearizeRecursiveTriangle"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearizeRecursiveTriangle</span></code></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HobbitTriangle</span></code> (<a class="reference internal" href="../aquaduct.geom.traces.html#aquaduct.geom.traces.LinearizeHobbitTriangle" title="aquaduct.geom.traces.LinearizeHobbitTriangle"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearizeHobbitTriangle</span></code></a>),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OneWayTriangle</span></code> (<a class="reference internal" href="../aquaduct.geom.traces.html#aquaduct.geom.traces.LinearizeOneWayTriangle" title="aquaduct.geom.traces.LinearizeOneWayTriangle"><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearizeOneWayTriangle</span></code></a>).</p></li>
</ul>
<p>Optionally name of the method can be followed by a threshold
value in parentheses, i.e. <code class="docutils literal notranslate"><span class="pre">RecursiveVector(0.05)</span></code>. For sane
values of thresholds see appropriate documentation of each method.
Default values work well. This option is not case sensitive.
It is recommended to use default method or <code class="docutils literal notranslate"><span class="pre">HobbitVector</span></code> method.</p>
</td>
</tr>
<tr class="row-odd"><td><p>paths_raw</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, raw paths are displayed as separate objects or as
one object with states corresponding to number of path.</p></td>
</tr>
<tr class="row-even"><td><p>paths_smooth</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, smooth paths are displayed as separate objects or
as one object with states corresponding to number of path.</p></td>
</tr>
<tr class="row-odd"><td><p>paths_raw_io</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, arrows indicating beginning and end of paths,
oriented accordingly to raw paths, are displayed as separate
objects or as one object with states corresponding to number
of paths.</p></td>
</tr>
<tr class="row-even"><td><p>paths_smooth_io</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, arrows indicating beginning and end of paths,
oriented accordingly to smooth paths, are displayed as separate
objects or as one object with states corresponding to number
of paths.</p></td>
</tr>
<tr class="row-odd"><td><p>paths_states</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, objects displayed by <strong>paths_raw</strong>,
<strong>paths_smooth</strong>, <strong>paths_raw_io</strong>, and <strong>paths_smooth_io</strong> are
displayed as one object with states corresponding to number of
paths. Otherwise they are displayed as separate objects.</p></td>
</tr>
<tr class="row-even"><td><p>ctypes_raw</p></td>
<td><p>False</p></td>
<td><p>Displays raw paths in a similar manner as non split
<strong>all_paths_raw</strong> but each cluster type is displayed as
a separate object.</p></td>
</tr>
<tr class="row-odd"><td><p>ctypes_smooth</p></td>
<td><p>False</p></td>
<td><p>Displays smooth paths in a similar manner as non split
<strong>all_paths_smooth</strong> but each cluster type is displayed as
a separate object.</p></td>
</tr>
<tr class="row-even"><td><p>ctypes_amount</p></td>
<td><p>None</p></td>
<td><p>Allows to limit number of visualised ctypes. If it is a number
in range <code class="docutils literal notranslate"><span class="pre">(0,1)</span></code>, then it is interpreted as percent number
of ctypes to be visualized. It is is a integer number <code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">1</span></code>,
it is total number of visualized ctypes.</p></td>
</tr>
<tr class="row-odd"><td><p>inlets_clusters</p></td>
<td><p>False</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, clusters of inlets are visualized.</p></td>
</tr>
<tr class="row-even"><td><p>inlets_clusters_amount</p></td>
<td><p>None</p></td>
<td><p>Allows to limit number of visualised inlets. If it is a number
in range <code class="docutils literal notranslate"><span class="pre">(0,1)</span></code> then it is interpreted as percent number
of inlets to be visualized. It is is a integer number <code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">1</span></code>
it is total number of visualized inlets.</p></td>
</tr>
<tr class="row-odd"><td><p>show_molecule</p></td>
<td><p>False</p></td>
<td><p>If set to selection of some molecular object in the system,
for example to <code class="docutils literal notranslate"><span class="pre">protein</span></code>, this object is displayed.</p></td>
</tr>
<tr class="row-even"><td><p>show_molecule_frames</p></td>
<td><p>0</p></td>
<td><p>Allows to indicate which frames of object defined by
<strong>show_molecule</strong> should be displayed. It is possible to set
several frames. In that case frames would be displayed as
states.</p></td>
</tr>
<tr class="row-odd"><td><p>show_scope_chull</p></td>
<td><p>False</p></td>
<td><p>If set to selection of some molecular object in the system,
for example to <code class="docutils literal notranslate"><span class="pre">protein</span></code>, convex hull of this object is
displayed.</p></td>
</tr>
<tr class="row-even"><td><p>show_scope_chull_inflate</p></td>
<td><p>None</p></td>
<td><p>Increase (or if negative decrease) size of the scope convex
hull.</p></td>
</tr>
<tr class="row-odd"><td><p>show_scope_chull_frames</p></td>
<td><p>0</p></td>
<td><p>Allows to indicate for which frames of object defined by
<strong>show_chull</strong> convex hull should be displayed. It is possible
to set several frames. In that case frames would be displayed
as states.</p></td>
</tr>
<tr class="row-even"><td><p>show_object_chull</p></td>
<td><p>False</p></td>
<td><p>If set to selection of some molecular object in the system,
convex hull of this object is displayed. This works exacly the
same way as <strong>show_chull</strong> but is meant to mark object shape.
It can be achieved by using <cite>name * and</cite> molecular object
definition plus some spatial constrains, for example those
used in object definition.</p></td>
</tr>
<tr class="row-odd"><td><p>show_object_chull_frames</p></td>
<td><p>0</p></td>
<td><p>Allows to indicate for which frames of object defined by
<strong>show_object</strong> convex hull should be displayed. It is possible
to set several frames. In that case frames would be displayed
as states.</p></td>
</tr>
<tr class="row-even"><td><p>cluster_area</p></td>
<td><p>True</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, clusters’ areas are estimated with kernel
density estimation method (KDE) and plotted as countour.</p></td>
</tr>
<tr class="row-odd"><td><p>cluster_area_precision</p></td>
<td><p>20</p></td>
<td><p>Precision of KDE method in clusters’ areas estimation method.
This options controls number of grid points per one
square A as used in KDE. Higher values means better precision.
Number of points can be calculated as $P^{2/3}$.</p></td>
</tr>
<tr class="row-even"><td><p>cluster_area_expand</p></td>
<td><p>2</p></td>
<td><p>Space occupied by clusters’ points can be expanded before KDE
calculation. This option controls amount of A by which the
cluster space is expanded.
Average amount of expansion can be calcualted as $E^{2/3}$.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Possibly due to limitations of <code class="xref py py-mod docutils literal notranslate"><span class="pre">MDAnalysis</span></code> only whole molecules can be displayed. If <strong>show_molecule</strong> is set to <code class="docutils literal notranslate"><span class="pre">backbone</span></code> complete protein will be displayed anyway. This may change in future version of <code class="xref py py-mod docutils literal notranslate"><span class="pre">MDAnalysis</span></code> and or <a class="reference internal" href="../aquaduct.html#module-aquaduct" title="aquaduct"><code class="xref py py-mod docutils literal notranslate"><span class="pre">aquaduct</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If several frames are selected, they are displayed as states which may interfere with other PyMOL objects displayed with several states.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If several states are displayed, protein tertiary structure data might be lost. This seems to be limitation of either <code class="xref py py-mod docutils literal notranslate"><span class="pre">MDAnalysis</span></code> or PyMOL.</p>
</div>
</div>
<div class="section" id="clustering-sections">
<span id="clustering-options"></span><h2>Clustering sections<a class="headerlink" href="#clustering-sections" title="Permalink to this headline">¶</a></h2>
<p>Default section for definition of clustering method is named <strong>clustering</strong> and default section for reclustering method definition is named <strong>reclustering</strong>. All clustering sections shares some common options. Other options depends on the method.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>method</p></td>
<td><p>barber or
dbscan</p></td>
<td><p>Name of clustering method. It has to be one of the
following: barber, dbscan, affprop, meanshift, birch, kmeans.
Default value depends whether it is <strong>clustering</strong> section
(barber) or <strong>reclustering</strong> section (dbscan).</p></td>
</tr>
<tr class="row-odd"><td><p>recursive_clustering</p></td>
<td><p>clustering
or None</p></td>
<td><p>If set to name of some section that holds clustering
method settings, this method is called in the next
recursion of clusteriation. Default value for
<strong>reclustering</strong> is None.</p></td>
</tr>
<tr class="row-even"><td><p>recursive_threshold</p></td>
<td><p>None</p></td>
<td><p>Allows to set threshold that excludes clusters of certain
size from reclustering. Value of this option comprises of
<cite>operator</cite> and <cite>value</cite>. Operator can be one of the following:
&gt;, &gt;=, &lt;=, &lt;. Value has to be expressed as floating number and
it have to be in the range of 0 to 1. One can use several
definitions separated by a space character.
Only clusters of size complying with all thresholds definitions
are submitted to reclustering.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="barber">
<span id="clustering-methods"></span><h3>barber<a class="headerlink" href="#barber" title="Permalink to this headline">¶</a></h3>
<p id="clustering-barber">Clustering by <strong>barber</strong> method bases on <a class="reference internal" href="valve_manual.html#auto-barber-procedure"><span class="std std-ref">Auto Barber</span></a> procedure. For each inlets a sphere is constructed according to Auto Barber <strong>separate_paths</strong> stage settings or according to parameters given in clustering section. Next, inlets that form coherent clouds of mutually intersecting spheres are grouped into clusters. Method <strong>barber</strong> supports the same settings as Auto Barber settings:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 63%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>auto_barber</p></td>
<td><p>str</p></td>
<td><p>This option allows to select molecular entity used in Auto
Barber procedure. See also <a class="reference internal" href="valve_manual.html#auto-barber-procedure"><span class="std std-ref">Auto Barber</span></a> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">barber_with_spheres()</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>auto_barber_mincut</p></td>
<td><p>float</p></td>
<td><p>Minimal radius of spheres used in Auto Barber. If a sphere has
radius smaller than this value, it is not used to cut. This
option can be switched off by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>auto_barber_maxcut</p></td>
<td><p>float</p></td>
<td><p>Maximal radius of spheres used in Auto Barber. If a sphere has
radius greater than this value, it is not used to cut. This
option can be switched off by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>auto_barber_mincut_level</p></td>
<td><p>bool</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, spheres of radius less than <strong>mincut</strong> are
resized to <strong>mincut</strong> value.</p></td>
</tr>
<tr class="row-even"><td><p>auto_barber_maxcut_level</p></td>
<td><p>bool</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, spheres of radius greater than <strong>maxcut</strong> are
resized to <strong>maxcut</strong> value.</p></td>
</tr>
<tr class="row-odd"><td><p>auto_barber_tovdw</p></td>
<td><p>bool</p></td>
<td><p>If set <code class="docutils literal notranslate"><span class="pre">True</span></code>, cutting of spheres is corrected by decreasing
its radius by VdW radius of the closest atom.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="dbscan">
<h3>dbscan<a class="headerlink" href="#dbscan" title="Permalink to this headline">¶</a></h3>
<p>For detailed description look at <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.DBSCAN.html#sklearn.cluster.DBSCAN" title="(in scikit-learn v0.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.cluster.DBSCAN</span></code></a> documentation. The following table summarizes options available in <cite>Valve</cite> and is a copy of original documentation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>eps</p></td>
<td><p>float</p></td>
<td><p>The maximum distance between two samples for them to be
considered as in the same neighborhood.</p></td>
</tr>
<tr class="row-odd"><td><p>min_samples</p></td>
<td><p>int</p></td>
<td><p>The number of samples (or total weight) in a neighborhood for
a point to be considered as a core point. This includes the
point itself.</p></td>
</tr>
<tr class="row-even"><td><p>metric</p></td>
<td><p>str</p></td>
<td><p>The metric to use when calculating distance between instances
in a feature array. Can be one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">euclidean</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cityblock</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cosine</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">manhattan</span></code>.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>algorithm</p></td>
<td><p>str</p></td>
<td><p>The algorithm to be used by the NearestNeighbors module to
compute pointwise distances and find nearest neighbors.
Can be one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">auto</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ball_tree</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kd_tree</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">brute</span></code>.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>leaf_size</p></td>
<td><p>int</p></td>
<td><p>Leaf size passed to BallTree or cKDTree.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="affprop">
<h3>affprop<a class="headerlink" href="#affprop" title="Permalink to this headline">¶</a></h3>
<p>For detailed description look at <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.AffinityPropagation.html#sklearn.cluster.AffinityPropagation" title="(in scikit-learn v0.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">AffinityPropagation</span></code></a> documentation. The following table summarizes options available in <cite>Valve</cite> and is a copy of original documentation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>damping</p></td>
<td><p>float</p></td>
<td><p>Damping factor between 0.5 and 1.</p></td>
</tr>
<tr class="row-odd"><td><p>convergence_iter</p></td>
<td><p>int</p></td>
<td><p>Number of iterations with no change in the number of estimated
clusters that stops the convergence.</p></td>
</tr>
<tr class="row-even"><td><p>max_iter</p></td>
<td><p>int</p></td>
<td><p>Maximum number of iterations.</p></td>
</tr>
<tr class="row-odd"><td><p>preference</p></td>
<td><p>float</p></td>
<td><p>Points with larger values of preferences are more likely to be
chosen as exemplars.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="meanshift">
<h3>meanshift<a class="headerlink" href="#meanshift" title="Permalink to this headline">¶</a></h3>
<p>For detailed description look at <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.MeanShift.html#sklearn.cluster.MeanShift" title="(in scikit-learn v0.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MeanShift</span></code></a> documentation. Following table summarized options available in <cite>Valve</cite> and is a copy of original documentation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bandwidth</p></td>
<td><p>Auto or float</p></td>
<td><p>Bandwidth used in the RBF kernel. If <code class="docutils literal notranslate"><span class="pre">Auto</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code>
automatic method for bandwidth estimation is used. See
<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.estimate_bandwidth.html#sklearn.cluster.estimate_bandwidth" title="(in scikit-learn v0.23)"><code class="xref py py-func docutils literal notranslate"><span class="pre">estimate_bandwidth()</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>cluster_all</p></td>
<td><p>bool</p></td>
<td><p>If true, then all points are clustered, even those orphans that
are not within any kernel.</p></td>
</tr>
<tr class="row-even"><td><p>bin_seeding</p></td>
<td><p>bool</p></td>
<td><p>If true, initial kernel locations are not locations of all
points, but rather the location of the discretized version of
points, where points are binned onto a grid whose coarseness
corresponds to the bandwidth.</p></td>
</tr>
<tr class="row-odd"><td><p>min_bin_freq</p></td>
<td><p>int</p></td>
<td><p>To speed up the algorithm, accept only those bins with at least
min_bin_freq points as seeds. If not defined, set to 1.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="birch">
<h3>birch<a class="headerlink" href="#birch" title="Permalink to this headline">¶</a></h3>
<p>For detailed description look at <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.Birch.html#sklearn.cluster.Birch" title="(in scikit-learn v0.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Birch</span></code></a> documentation. Following table summarized options available in <cite>Valve</cite> and is a copy of original documentation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>threshold</p></td>
<td><p>float</p></td>
<td><p>The radius of the subcluster obtained by merging a new sample
and the closest subcluster should be smaller than the threshold.
Otherwise a new subcluster is started.</p></td>
</tr>
<tr class="row-odd"><td><p>branching_factor</p></td>
<td><p>int</p></td>
<td><p>Maximum number of CF subclusters in each node.</p></td>
</tr>
<tr class="row-even"><td><p>n_clusters</p></td>
<td><p>int</p></td>
<td><p>Number of clusters after the final clustering step, which
treats the subclusters from the leaves as new samples. By
default, this final clustering step is not performed and the
subclusters are returned as they are.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="kmeans">
<h3>kmeans<a class="headerlink" href="#kmeans" title="Permalink to this headline">¶</a></h3>
<p>For detailed description look at <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html#sklearn.cluster.KMeans" title="(in scikit-learn v0.23)"><code class="xref py py-class docutils literal notranslate"><span class="pre">KMeans</span></code></a> documentation. The following table summarized options available in <cite>Valve</cite> and is a copy of original documentation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 14%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>n_clusters</p></td>
<td><p>int</p></td>
<td><p>The number of clusters to form as well as the number of
centroids to generate.</p></td>
</tr>
<tr class="row-odd"><td><p>max_iter</p></td>
<td><p>int</p></td>
<td><p>Maximum number of iterations of the k-means algorithm for a
single run.</p></td>
</tr>
<tr class="row-even"><td><p>n_init</p></td>
<td><p>int</p></td>
<td><p>Number of times the k-means algorithm will be run with different
centroid seeds. The final results will be the best output of
n_init consecutive runs in terms of inertia.</p></td>
</tr>
<tr class="row-odd"><td><p>init</p></td>
<td><p>str</p></td>
<td><p>Method for initialization, defaults to <code class="docutils literal notranslate"><span class="pre">k-means++</span></code>. Can be
one of following: <code class="docutils literal notranslate"><span class="pre">k-means++</span></code> or <code class="docutils literal notranslate"><span class="pre">random</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>tol</p></td>
<td><p>float</p></td>
<td><p>Relative tolerance with regards to inertia to declare
convergence.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="smooth-section">
<span id="smoothing-options"></span><h2>Smooth section<a class="headerlink" href="#smooth-section" title="Permalink to this headline">¶</a></h2>
<p>Section <strong>smooth</strong> supports the following options:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 12%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>method</p></td>
<td><p>str</p></td>
<td><p>Smoothing method. Can be one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">window</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.WindowSmooth" title="aquaduct.geom.smooth.WindowSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">WindowSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mss</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.MaxStepSmooth" title="aquaduct.geom.smooth.MaxStepSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaxStepSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">window_mss</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.WindowOverMaxStepSmooth" title="aquaduct.geom.smooth.WindowOverMaxStepSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">WindowOverMaxStepSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">awin</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.ActiveWindowSmooth" title="aquaduct.geom.smooth.ActiveWindowSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">ActiveWindowSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">awin_mss</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.ActiveWindowOverMaxStepSmooth" title="aquaduct.geom.smooth.ActiveWindowOverMaxStepSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">ActiveWindowOverMaxStepSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dwin</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.DistanceWindowSmooth" title="aquaduct.geom.smooth.DistanceWindowSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">DistanceWindowSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dwin_mss</span></code>, (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.DistanceWindowOverMaxStepSmooth" title="aquaduct.geom.smooth.DistanceWindowOverMaxStepSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">DistanceWindowOverMaxStepSmooth</span></code></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">savgol</span></code>. (see <a class="reference internal" href="../aquaduct.geom.smooth.html#aquaduct.geom.smooth.SavgolSmooth" title="aquaduct.geom.smooth.SavgolSmooth"><code class="xref py py-class docutils literal notranslate"><span class="pre">SavgolSmooth</span></code></a>)</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>recursive</p></td>
<td><p>int</p></td>
<td><p>Number of recursive runs of smoothing method.</p></td>
</tr>
<tr class="row-even"><td><p>window</p></td>
<td><p>int or float</p></td>
<td><p>In window-based method defines window size. In plain <code class="docutils literal notranslate"><span class="pre">window</span></code>
it has to be an int number. In <code class="docutils literal notranslate"><span class="pre">savgol</span></code> it has to be odd integer.</p></td>
</tr>
<tr class="row-odd"><td><p>step</p></td>
<td><p>int</p></td>
<td><p>In step based method defines size of the step.</p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>str</p></td>
<td><p>In window based methods defines averaging function. Can be
<code class="docutils literal notranslate"><span class="pre">mean</span></code> or <code class="docutils literal notranslate"><span class="pre">median</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>polyorder</p></td>
<td><p>int</p></td>
<td><p>In <code class="docutils literal notranslate"><span class="pre">savgol</span></code> is polynomial order.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/AQUADUCT_LOGO.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration file options</a><ul>
<li><a class="reference internal" href="#section-global">Section <strong>global</strong></a><ul>
<li><a class="reference internal" href="#sandwich">Sandwich</a></li>
<li><a class="reference internal" href="#cache">Cache</a></li>
<li><a class="reference internal" href="#single-precision-storage">Single precision storage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#common-settings-of-stage-sections">Common settings of stage sections</a></li>
<li><a class="reference internal" href="#stage-traceable-residues">Stage <strong>traceable_residues</strong></a></li>
<li><a class="reference internal" href="#stage-raw-paths">Stage <strong>raw_paths</strong></a></li>
<li><a class="reference internal" href="#stage-separate-paths">Stage <strong>separate_paths</strong></a></li>
<li><a class="reference internal" href="#stage-inlets-clustering">Stage <strong>inlets_clustering</strong></a></li>
<li><a class="reference internal" href="#stage-analysis">Stage <strong>analysis</strong></a></li>
<li><a class="reference internal" href="#stage-visualize">Stage <strong>visualize</strong></a></li>
<li><a class="reference internal" href="#clustering-sections">Clustering sections</a><ul>
<li><a class="reference internal" href="#barber">barber</a></li>
<li><a class="reference internal" href="#dbscan">dbscan</a></li>
<li><a class="reference internal" href="#affprop">affprop</a></li>
<li><a class="reference internal" href="#meanshift">meanshift</a></li>
<li><a class="reference internal" href="#birch">birch</a></li>
<li><a class="reference internal" href="#kmeans">kmeans</a></li>
</ul>
</li>
<li><a class="reference internal" href="#smooth-section">Smooth section</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="valve_manual.html"
                        title="previous chapter"><em>Valve</em> manual</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="valve_tutorial.html"
                        title="next chapter"><em>Valve</em> tutorial</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="valve_tutorial.html" title="Valve tutorial"
             >next</a> |</li>
        <li class="right" >
          <a href="valve_manual.html" title="Valve manual"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Aqua-Duct 1.0.10 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Aqua-Duct’s Valve driver documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration file options</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, 2017, 2018, 2019 Tomasz Magdziarz, Karolina Mitusińska, Agata Raczyńska, Artur Góra.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>